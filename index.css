@tailwind base;
@tailwind components;
@tailwind utilities;

/* Utility tambahan yang dipakai komponen */
@layer utilities {
  @keyframes fade-in { from { opacity: 0 } to { opacity: 1 } }
  .animate-fade-in { animation: fade-in 0.5s ease-in-out; }
  .animate-fade-in-fast { animation: fade-in 0.2s ease-in-out; }
  .text-shadow-lg { text-shadow: 0 0 15px rgba(255,223,186,0.8); }
  /* Skeleton shimmer */
  @keyframes skeleton-shimmer { 0% { background-position: -200% 0 } 100% { background-position: 200% 0 } }
  .skeleton { position: relative; overflow: hidden; background-color: rgba(255,255,255,0.06); }
  .skeleton::after {
    content: "";
    position: absolute; inset: 0;
    background-image: linear-gradient(90deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.08) 50%, rgba(255,255,255,0.0) 100%);
    background-size: 200% 100%; animation: skeleton-shimmer 1.2s linear infinite;
  }

  /* Container Query helpers for desktop layout */
  .cq-root { container-type: inline-size; container-name: layout; }
  .desktop-grid { display: grid; grid-template-columns: 280px 1fr 340px; }
  .desktop-left { overflow: auto; }
  .desktop-center { overflow: hidden; }
  .desktop-right { overflow: auto; }

  /* Expand columns when container is wider */
  @container layout (min-width: 1200px) {
    .desktop-grid { grid-template-columns: 320px 1fr 384px; }
  }

  /* Compress or hide sidebars when container is tight */
  @container layout (max-width: 900px) {
    .desktop-grid { grid-template-columns: 1fr; }
    .desktop-left, .desktop-right { display: none; }
  }
}

/* Design tokens: comfortable theme */
:root {
  --space-comfortable: 0.75rem; /* 12px */
  --radius-comfortable: 0.75rem;
  --color-surface-1: #1f2937; /* gray-800 */
  --color-surface-2: #111827; /* gray-900 */
  --color-text-strong: #f3f4f6; /* gray-100 */
  --color-accent: #a78bfa; /* purple-400 */

  /* Spacing scale */
  --space-xxs: 0.25rem; /* 4px */
  --space-xs: 0.5rem;  /* 8px */
  --space-sm: 0.75rem; /* 12px */
  --space-md: 1rem;    /* 16px */
  --space-lg: 1.5rem;  /* 24px */
  --space-xl: 2rem;    /* 32px */

  /* Radius scale */
  --radius-sm: 0.375rem; /* 6px */
  --radius-md: 0.5rem;   /* 8px */
  --radius-lg: 0.75rem;  /* 12px */
  --radius-xl: 1rem;     /* 16px */

  /* Elevation (shadow presets) */
  --elevation-1: 0 1px 2px rgba(0,0,0,0.4);
  --elevation-2: 0 2px 6px rgba(0,0,0,0.45);
  --elevation-3: 0 4px 12px rgba(0,0,0,0.5);
  --elevation-4: 0 12px 24px rgba(0,0,0,0.55);
  --elevation-5: 0 24px 40px rgba(0,0,0,0.6);

  /* Motion tokens */
  --motion-fast: 150ms;
  --motion-normal: 250ms;
  --motion-slow: 400ms;
  --ease-standard: cubic-bezier(0.2, 0, 0, 1);
  /* Accessibility */
  --font-scale: 1;
}

/* Global font scaling via root rem size */
html { font-size: calc(16px * var(--font-scale)); }

.bg-surface { background-color: var(--color-surface-1); }
.text-strong { color: var(--color-text-strong); }
.rounded-comfortable { border-radius: var(--radius-comfortable); }
.p-comfortable { padding: var(--space-comfortable); }

/* Token utilities */
.p-space-sm { padding: var(--space-sm); }
.p-space-md { padding: var(--space-md); }
.p-space-lg { padding: var(--space-lg); }
.rounded-token-sm { border-radius: var(--radius-sm); }
.rounded-token-md { border-radius: var(--radius-md); }
.rounded-token-lg { border-radius: var(--radius-lg); }
.shadow-elevation-1 { box-shadow: var(--elevation-1); }
.shadow-elevation-2 { box-shadow: var(--elevation-2); }
.shadow-elevation-3 { box-shadow: var(--elevation-3); }
.shadow-elevation-4 { box-shadow: var(--elevation-4); }
.shadow-elevation-5 { box-shadow: var(--elevation-5); }
.transition-standard { transition: all var(--motion-normal) var(--ease-standard); }
.transition-fast { transition: all var(--motion-fast) var(--ease-standard); }
.transition-slow { transition: all var(--motion-slow) var(--ease-standard); }

/* Safe area utilities */
.pb-safe { padding-bottom: env(safe-area-inset-bottom); }
.pt-safe { padding-top: env(safe-area-inset-top); }
.pl-safe { padding-left: env(safe-area-inset-left); }
.pr-safe { padding-right: env(safe-area-inset-right); }

/* Reduce motion accessibility */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* Accessibility: High Contrast mode overrides */
.high-contrast {
  --bg-primary: #000000;
  --bg-secondary: #0a0a0a;
  --bg-tertiary: #000000;
  --text-primary: #ffffff;
  --text-secondary: #f5f5f5;
  --accent-primary: #ffff00; /* bright yellow */
  --accent-secondary: #ff00ff; /* magenta */
  --border-primary: #ffffff;
}